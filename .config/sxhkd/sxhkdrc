### Common ###

# Terminal
super + t 
    $TERMINAL

# Browser
super + b
    $BROWSER

# Editor
super + e
    $TERMINAL -e tmux new-session nvim

# Terminal File Manager (Root)
super + r
    $TERMINAL -e tmux new-session yazi

# GUI File Manager (Root)
super + shift + r
    $FILE_MANAGER

# Menu (Find)
super + f
    rofi -show drun

# Toggle polybar
super + w
    ~/.config/polybar/scripts/toggle.sh &

# Reload indicators
super + shift + i
    kill -s SIGRTMIN+8 $(pgrep -u $UID -x polybar)

# Close/kill window
super + {_,shift +} q
    bspc node -{c,k}

# Quit bspwm (Main)
super + m
    bspc quit

# Lock screen
super + n
	~/.config/bspwm/scripts/lock.sh &

### Screenshot ###

# Area selection
super + shift + s
	maim -s | tee ~/Pictures/Screenshots/Screenshot_$(date +%Y-%m-%d_%H-%M-%S).png | xclip -selection clipboard -t image/png

# Full screen
super + shift + o
	maim | tee ~/Pictures/Screenshots/Screenshot_$(date +%Y-%m-%d_%H-%M-%S).png | xclip -selection clipboard -t image/png

# Focused window
super + shift + w
	maim -i $(xdotool getactivewindow) | tee ~/Pictures/Screenshots/Screenshot_$(date +%Y-%m-%d_%H-%M-%S).png | xclip -selection clipboard -t image/png


### Utils ###

# Reload config
super + shift + c
	pkill -USR1 -x sxhkd & bspc wm -r


### Window State ###

# Mini Fullscreen
super + a
	bspc desktop -l next

# Fullscreen
super + shift + a
    bspc node -t \~fullscreen

# Floating
super + v
    bspc node -t \~floating

# swap the current node and the biggest window
super + g
	bspc node -s biggest.window


### Focus/Swap ###

# Focus node or travel workspaces (vertical)
super + {h,j,k,l}
    dir={west,south,north,east}; \
    target=next; \
    case "$dir" in south) target=prev ;; esac; \
    bspc node -f "$dir" || bspc monitor -f "$dir" || case "$dir" in south|north) bspc desktop -f "$target.local" ;; esac

# Focus monitors
super + shift + {h,j,k,l}
    bspc monitor -f {west,south,north,east}

# Move node
super + ctrl + {h,j,k,l}
    dir={west,south,north,east}; \
    target=next; \
    case "$dir" in south) target=prev ;; esac; \
    bspc node -n "$dir" -f || bspc node -m "$dir" -f || case "$dir" in south|north) bspc node -d "$target.local" -f ;; esac

# Move node (Silently)
super + ctrl + alt + {h,j,k,l}
    dir={west,south,north,east}; \
    target=next; \
    case "$dir" in south) target=prev ;; esac; \
    bspc node -n "$dir" || bspc node -m "$dir" || case "$dir" in south|north) bspc node -d "$target.local" ;; esac

# Swap node
super + s ; {h,j,k,l}
    bspc node -s {west,south,north,east} -f

# Swap node (Silently)
super + s; shift + {h,j,k,l}
    bspc node -s {west,south,north,east}

# Focus/Send to the given desktop
super + {_,ctrl + }{1-9,0}
    bspc {desktop,node -d} 'focused:^{1-9,10}' -f

# Send to the given desktop (Silently)
super + alt + {1-9,0}
    bspc node -d 'focused:^{1-9,10}'

# Mouse scrolling to change workspaces (LOCAL)
super + button{4,5}
	bspc desktop -f {next,prev}.local

# Mouse scrolling to change workspaces (GLOBAL)
super + shift + button{4,5}
	bspc desktop -f {next,prev}

# focus the last node/desktop
super + {grave,Tab}
	bspc {node,desktop} -f last

# focus the older or newer node in the focus history
super + {o,i}
	bspc wm -h off; \
	bspc node {older,newer} -f; \
	bspc wm -h on


### Move/Resize ###

# Expand inwards and outwards a window
super + alt + {h,j,k,l}
    bspc node -z {left -20 0 || bspc node -z right -20 0, \
                  bottom 0 20 || bspc node -z top 0 20,\
                  top 0 -20 || bspc node -z bottom 0 -20,\
                  right 20 0 || bspc node -z left 20 0}

super + alt + shift + {h,j,k,l}
    bspc node -z {left -100 0 || bspc node -z right -100 0, \
                  bottom 0 100 || bspc node -z top 0 100,\
                  top 0 -100 || bspc node -z bottom 0 -100,\
                  right 100 0 || bspc node -z left 100 0}

# move a floating window
super + {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

super + shift + {Left,Down,Up,Right}
	bspc node -v {-100 0,0 100,0 -100,100 0}
